# Example environment variables for KW Enterprise
# Copy this file to .env.local and fill in secrets for your environment.

##############################
# Required (runtime) secrets
##############################

# Master key used to encrypt/decrypt values in data/server-config.json
# Must be a base64-encoded 32-byte value (32 bytes -> 44 base64 chars).
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
SERVER_CONFIG_MASTER_KEY=

# JWT secret used to sign server-side cookie tokens (HS256)
# In production this MUST be set. You can use a long random string or a base64 value.
# Generate example (random 32 bytes, base64):
# node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
AUTH_JWT_SECRET=

# Cookie name for auth tokens (optional; defaults to 'demo_auth_token')
# AUTH_COOKIE_NAME=demo_auth_token


##############################
# Optional / Operational
##############################

# If you want to enable the admin UI with a static bearer token for tooling use
ADMIN_BEARER_TOKEN=

# Toggle admin UI visibility (string boolean 'true' or 'false')
# ENABLE_ADMIN_UI=true


##############################
# SMTP (email) - optional
##############################
# The project stores SMTP settings inside data/server-config.json when using the
# interactive `npm run server:config init` helper, and encrypts the SMTP password
# using SERVER_CONFIG_MASTER_KEY. You can also provide SMTP credentials directly
# via env variables below for quick local testing.

SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=
SMTP_PASS=

# Notes: Prefer encrypting the SMTP_PASS using the server config CLI rather
# than committing it in an env file for production.


##############################
# Ethereal (nodemailer test) - optional
##############################
# These are used by the bundled nodemailer/Ethereal integration for development
ETHEREAL_API=
ETHEREAL_WEB=
ETHEREAL_API_KEY=
ETHEREAL_CACHE=yes


##############################
# Next.js preview keys (optional)
##############################
__NEXT_PREVIEW_MODE_ID=
__NEXT_PREVIEW_MODE_SIGNING_KEY=
__NEXT_PREVIEW_MODE_ENCRYPTION_KEY=


##############################
# Security notes
##############################
# - Never commit a real .env.local with secrets. Keep .env.example in the repo as
#   non-sensitive documentation only.
# - Use `SERVER_CONFIG_MASTER_KEY` to encrypt any production secrets stored in
#   data/server-config.json (the CLI will do this for you).
# - Rotate `AUTH_JWT_SECRET` and `SERVER_CONFIG_MASTER_KEY` periodically.
# - In production the app will refuse to start if critical secrets (like
#   AUTH_JWT_SECRET or SERVER_CONFIG_MASTER_KEY) are missing.
